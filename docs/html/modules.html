
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Other modules &#8212; AvantPy 0.0.7 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing" href="contribute.html" />
    <link rel="prev" title="Testing" href="testing.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="contribute.html" title="Contributing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="testing.html" title="Testing"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">AvantPy 0.0.7 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Other modules</a><ul>
<li><a class="reference internal" href="#module-avantpy.console">console</a></li>
<li><a class="reference internal" href="#module-avantpy.converter">converter</a></li>
<li><a class="reference internal" href="#module-avantpy.exception_handling">exception_handling</a></li>
<li><a class="reference internal" href="#module-avantpy.exceptions">exceptions</a></li>
<li><a class="reference internal" href="#module-avantpy.gui">gui</a></li>
<li><a class="reference internal" href="#module-avantpy.import_hook">import_hook</a></li>
<li><a class="reference internal" href="#module-avantpy.translate">translate</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="testing.html"
                        title="previous chapter">Testing</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="contribute.html"
                        title="next chapter">Contributing</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/modules.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="other-modules">
<h1>Other modules<a class="headerlink" href="#other-modules" title="Permalink to this headline">¶</a></h1>
<p>In addition to <code class="docutils literal notranslate"><span class="pre">invocation.py</span></code> already mentioned, and excluding modules defining individual
dialects, the following are included:</p>
<div class="section" id="module-avantpy.console">
<span id="console"></span><h2>console<a class="headerlink" href="#module-avantpy.console" title="Permalink to this headline">¶</a></h2>
<p>Console adapted from Python’s console found in code.py.</p>
<p>An earlier version of this code was subclassing code.InteractiveConsole.
However, as more and more changes were introduced, dealing with
code transformation and especially customized error handling,
it seemed to make sense to “rewrite” every relevant part in
this single module.</p>
<dl class="class">
<dt id="avantpy.console.AvantPyInteractiveConsole">
<em class="property">class </em><code class="descclassname">avantpy.console.</code><code class="descname">AvantPyInteractiveConsole</code><span class="sig-paren">(</span><em>locals=None</em>, <em>show_python=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#AvantPyInteractiveConsole"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.AvantPyInteractiveConsole" title="Permalink to this definition">¶</a></dt>
<dd><p>A Python console that tries to emulate the normal Python interpreter
except that it support experimental code transformations.
It is adapted from cPython’s <code class="docutils literal notranslate"><span class="pre">code.InteractiveConsole</span></code> and its
parent.</p>
<p>Like the normal Python interactive console, it attempts to evaluate
code entered one line at a time by a user.</p>
<dl class="method">
<dt id="avantpy.console.AvantPyInteractiveConsole.interact">
<code class="descname">interact</code><span class="sig-paren">(</span><em>banner=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#AvantPyInteractiveConsole.interact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.AvantPyInteractiveConsole.interact" title="Permalink to this definition">¶</a></dt>
<dd><p>Emulates the interactive Python console.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.console.AvantPyInteractiveConsole.push">
<code class="descname">push</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#AvantPyInteractiveConsole.push"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.AvantPyInteractiveConsole.push" title="Permalink to this definition">¶</a></dt>
<dd><p>Pushes a transformed line to the interpreter.</p>
<p>The line should not have a trailing newline; it may have
internal newlines.  The line is transformed and appended to a buffer.
The interpreter’s run_source() method is called with the
concatenated contents of the buffer as source.  If this
indicates that the command was executed or invalid, the buffer
is reset; otherwise, the command is incomplete, and the buffer
is left as it was after the line was appended.  The return
value is True if more input is required, False if the line was dealt
with in some way (this is the same as run_source()).</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.console.AvantPyInteractiveConsole.reset_buffer">
<code class="descname">reset_buffer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#AvantPyInteractiveConsole.reset_buffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.AvantPyInteractiveConsole.reset_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the input buffer.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.console.AvantPyInteractiveConsole.run_source">
<code class="descname">run_source</code><span class="sig-paren">(</span><em>source</em>, <em>symbol='single'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#AvantPyInteractiveConsole.run_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.AvantPyInteractiveConsole.run_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile and run some source in the interpreter.</p>
<p>Arguments are as for compile_command().</p>
<p>One several things can happen:</p>
<p>1) The input is incorrect; compile_command() raised an
exception (SyntaxError or OverflowError).</p>
<p>2) The input is incomplete, and more input is required;
compile_command() returned None.  Nothing happens.</p>
<p>3) The input is complete; compile_command() returned a code
object.  The code is executed by calling self.runcode() (which
also handles run-time exceptions, except for SystemExit).</p>
<p>The return value is True in case 2, False in the other cases (unless
an exception is raised).  The return value can be used to
decide which prompt to use next line.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.console.AvantPyInteractiveConsole.runcode">
<code class="descname">runcode</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#AvantPyInteractiveConsole.runcode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.AvantPyInteractiveConsole.runcode" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a code object.</p>
<p>All exceptions are caught except SystemExit, which is reraised.</p>
<p>A note about KeyboardInterrupt: this exception may occur
elsewhere in this code, and may not always be caught.  The
caller should be prepared to deal with it.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.console.AvantPyInteractiveConsole.show_converted">
<code class="descname">show_converted</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#AvantPyInteractiveConsole.show_converted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.AvantPyInteractiveConsole.show_converted" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the converted source</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.console.AvantPyInteractiveConsole.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#AvantPyInteractiveConsole.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.AvantPyInteractiveConsole.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a string.</p>
<p>The base implementation writes to sys.stderr; a subclass may
replace this with a different implementation.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="avantpy.console.start_console">
<code class="descclassname">avantpy.console.</code><code class="descname">start_console</code><span class="sig-paren">(</span><em>local_vars=None</em>, <em>show_python=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#start_console"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.start_console" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts a console; modified from code.interact</p>
</dd></dl>

</div>
<div class="section" id="module-avantpy.converter">
<span id="converter"></span><h2>converter<a class="headerlink" href="#module-avantpy.converter" title="Permalink to this headline">¶</a></h2>
<p>This module contains all the necessary functions, classes and methods
to take a file written in a given dialect and convert it into Python.
In doing so, it can identify some mistakes and raise some custom
exceptions which can be used to inform users in a way that is less
intimidating than the usual Python tracebacks.</p>
<p>The following can definitely be skipped unless you are interested in
(most of) the gory details.</p>
<p>AvantPy uses Python’s <code class="docutils literal notranslate"><span class="pre">tokenize</span></code> module to convert a
source into a sequence of tokens. A token might be the name
of a variable, an operator, a parenthesis, a string, etc.</p>
<p>AvantPy analyses these tokens,
replacing some written into a different dialect until all
are converted into standard Python tokens.  Then, these
are recombined into a string which is the source to be
executed.</p>
<p>Python’s tokenize module includes a function, called
untokenize, which can be used to combine a series of tokens
into a valid program.  With a normal Python program, doing
something similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">new_source</span> <span class="o">=</span> <span class="n">untokenize</span><span class="p">(</span><span class="n">tokenize</span><span class="p">(</span><span class="n">source</span><span class="p">))</span>
</pre></div>
</div>
<p>would be such that executing <code class="docutils literal notranslate"><span class="pre">new_source</span></code> would be the same
as executing <code class="docutils literal notranslate"><span class="pre">source</span></code>.  However, the spacing between tokens
would not necessarily be the same for both <code class="docutils literal notranslate"><span class="pre">new_source</span></code>
and the original program.  For example, the original program
may include a line like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">variable</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span> <span class="n">argument</span> <span class="p">)</span>
</pre></div>
</div>
<p>which might be converted into:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">variable</span> <span class="o">=</span><span class="n">function</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span>
</pre></div>
</div>
<p>One possibility that AvantPy offers is to run program with the
–diff option to show the difference
between the code written and standard Python. The difflib
module, used to do this, shows all differences including
differences in spaces between tokens.  Since the primary
goal of the –diff option is to allow users to learn the
differences between their dialect and standard Python, it is
important to restrict differences shown to only those that
are meaningful.  As a result, we do not use Python’s
untokenize function, and explicitly keep track of spacing
between tokens.</p>
<p>To understand how the conversion process works, it is useful to review
all possible cases, from some of the most complex, ending
with the simplest ones.</p>
<ol class="upperalpha simple">
<li><code class="docutils literal notranslate"><span class="pre">nobreak</span></code></li>
</ol>
<p>AvantPy has an additional keyword, named <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> in the
English dialect, which can be used in <code class="docutils literal notranslate"><span class="pre">for</span></code> or <code class="docutils literal notranslate"><span class="pre">while</span></code>
loops instead of the standard <code class="docutils literal notranslate"><span class="pre">else</span></code>, as in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="n">condition</span><span class="p">:</span>
    <span class="c1"># code</span>
<span class="n">nobreak</span><span class="p">:</span>
    <span class="c1"># code</span>
</pre></div>
</div>
<p>However, <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> cannot be used in an <code class="docutils literal notranslate"><span class="pre">if/elif/else</span></code>
blocks to replace <code class="docutils literal notranslate"><span class="pre">else</span></code>.</p>
<p>Furthermore, <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> cannot be used instead of <code class="docutils literal notranslate"><span class="pre">else</span></code>
in an assignment such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="kc">True</span> <span class="k">else</span> <span class="mi">2</span>
</pre></div>
</div>
<p>To identify if a program includes a <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> keyword
mistakenly, every time we see a leading <code class="docutils literal notranslate"><span class="pre">for</span></code>, <code class="docutils literal notranslate"><span class="pre">while</span></code>,
<code class="docutils literal notranslate"><span class="pre">if</span></code> or <code class="docutils literal notranslate"><span class="pre">elif</span></code> keyword (or their equivalent in a
given dialect), we note the indentation (column where the
first character is written) and the corresponding keyword.
A list containing these keywords is called <code class="docutils literal notranslate"><span class="pre">blocks_with_else</span></code>
in this function.</p>
<p>Later, when we encounter a <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> keyword at a given
indentation, we check to see if the last <code class="docutils literal notranslate"><span class="pre">blocks_with_else</span></code>
keyword found at that same indentation was one for which
it made sense to use <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> or not.  If it was a
loop, we simply replace <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> by <code class="docutils literal notranslate"><span class="pre">else</span></code>. If not,
we raise a custom exception which is handled elsewhere.</p>
<ol class="upperalpha simple" start="2">
<li><code class="docutils literal notranslate"><span class="pre">repeat</span></code></li>
</ol>
<p>In addition to the standard Python loops constructs, AvantPy
support four additional idioms:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">repeat</span> <span class="n">forever</span><span class="p">:</span>           <span class="c1"># while True:</span>
    <span class="k">pass</span>
<span class="n">repeat</span> <span class="k">while</span> <span class="n">condition</span><span class="p">:</span>   <span class="c1"># while condition:</span>
    <span class="k">pass</span>
<span class="n">repeat</span> <span class="n">until</span> <span class="n">condition</span><span class="p">:</span>   <span class="c1"># while not condition:</span>
    <span class="k">pass</span>
<span class="n">repeat</span> <span class="n">n</span><span class="p">:</span>                 <span class="c1"># for some_var in range(n):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>For this last case, <code class="docutils literal notranslate"><span class="pre">n</span></code> could be an expression, possibly
spanning multiple lines.</p>
<p>When we encounter the equivalent to the “repeat” keyword in
the selected dialect, we must make sure that it is the first
keyword occurring on a logical line; if not, we raise a
custom exception.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">repeat</span></code> is the first keyword on a line, we set a flag
(repeat_loop) to True, preparing to look at the next token.</p>
<p>a) If the next token is one of <code class="docutils literal notranslate"><span class="pre">forever</span></code>, <code class="docutils literal notranslate"><span class="pre">until</span></code>, <code class="docutils literal notranslate"><span class="pre">while</span></code>,
or their equivalent in the target dialect
(remember that including normal Python keywords in a program written
in a different dialect is allowed)
we can proceed with the rest in a straightforward manner.</p>
<p>b) if that is not the case, we set a different flag (repeat_n)
to True so that we can deal with the relevant for loop.</p>
<p>For this last case, the variable in the for loop is a dummy
variable; we must ensure that its name is chosen such that
it does not occur anywhere else in the source code.
This is accomplished using a method called
<code class="docutils literal notranslate"><span class="pre">get_unique_variable_names</span></code>.</p>
<ol class="upperalpha simple" start="3">
<li><code class="docutils literal notranslate"><span class="pre">nobreak</span></code> and <code class="docutils literal notranslate"><span class="pre">repeat</span></code></li>
</ol>
<p>A <code class="docutils literal notranslate"><span class="pre">repeat</span></code> loop is essentially a <code class="docutils literal notranslate"><span class="pre">for</span></code> or a <code class="docutils literal notranslate"><span class="pre">while</span></code>
loop. As such, it could have an <code class="docutils literal notranslate"><span class="pre">else</span></code> clause which
has a clearer meaning if the keyword <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> is used
instead.  Thus, just like we mentioned before, we also
keep track of where a leading <code class="docutils literal notranslate"><span class="pre">repeat</span></code> is used.</p>
<ol class="upperalpha simple" start="4">
<li>Direct translation</li>
</ol>
<p>If a token does not match one of the cases described above,
we need to see if it is a term used in the dialect; if
so, we simply translate it into standard Python.</p>
<ol class="upperalpha simple" start="5">
<li>Brackets</li>
</ol>
<p>In Python, brackets must always come in pairs: (…), […],
{…}. In the course of processing the file, if we identify
brackets which are not paired correctly, an exception
is raised.</p>
<ol class="upperalpha simple" start="6">
<li>Remaining tokens</li>
</ol>
<p>Any remaining token is left as is; it is assumed to be valid
Python.</p>
<dl class="class">
<dt id="avantpy.converter.Converter">
<em class="property">class </em><code class="descclassname">avantpy.converter.</code><code class="descname">Converter</code><span class="sig-paren">(</span><em>source</em>, <em>dialect=None</em>, <em>source_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#Converter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.Converter" title="Permalink to this definition">¶</a></dt>
<dd><p>This class uses Python’s <code class="docutils literal notranslate"><span class="pre">tokenize</span></code> module to convert a
source into a sequence of tokens. A token might be the name
of a variable, an operator, a parenthesis, a string, etc.</p>
<p>It processes one token at a time, identifying potential misuses,
replacing some tokens written into a different dialect until all
are converted into standard Python tokens.  Then, these
are recombined into a string which is the source to be
executed.</p>
<p>Python’s tokenize module includes a function, called
untokenize, which can be used to combine a series of tokens
into a valid program.  With a normal Python program, doing
something similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">new_source</span> <span class="o">=</span> <span class="n">untokenize</span><span class="p">(</span><span class="n">tokenize</span><span class="p">(</span><span class="n">source</span><span class="p">))</span>
</pre></div>
</div>
<p>would be such that executing <code class="docutils literal notranslate"><span class="pre">new_source</span></code> would be the same
as executing <code class="docutils literal notranslate"><span class="pre">source</span></code>.  However, the spacing between tokens
would not necessarily be the same for both <code class="docutils literal notranslate"><span class="pre">new_source</span></code>
and the original program.  For example, the original program
may include a line like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">variable</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span> <span class="n">argument</span> <span class="p">)</span>
</pre></div>
</div>
<p>which might be converted into:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">variable</span> <span class="o">=</span><span class="n">function</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span>
</pre></div>
</div>
<p>One possibility that AvantPy offers is to run program with the
–diff option to show the difference
between the code written and standard Python. The difflib
module, used to do this, shows all differences including
differences in spaces between tokens.  Since the primary
goal of the –diff option is to allow users to learn the
differences between their dialect and standard Python, it is
important to restrict differences shown to only those that
are meaningful.  As a result, we do not use Python’s
untokenize function, and explicitly keep track of spacing
between tokens.</p>
<dl class="method">
<dt id="avantpy.converter.Converter.convert">
<code class="descname">convert</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#Converter.convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.Converter.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses Python’s tokenize module to generate tokens from a source.</p>
<p>It calls a function to process each token in turn, and combine
the results to returned a transformed source.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.converter.Converter.do_close_bracket">
<code class="descname">do_close_bracket</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#Converter.do_close_bracket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.Converter.do_close_bracket" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines if a closing bracket ), ], or }, matches a previously
opened one, and raises an error if that is not the case.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.converter.Converter.do_until_forever_error">
<code class="descname">do_until_forever_error</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#Converter.do_until_forever_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.Converter.do_until_forever_error" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is called when we see a keyword equivalent to
<code class="docutils literal notranslate"><span class="pre">until</span></code> or <code class="docutils literal notranslate"><span class="pre">forever</span></code> in a given dialect without them
being preceeded by the keyword <code class="docutils literal notranslate"><span class="pre">repeat</span></code>. This is not allowed.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.converter.Converter.handle_nobreak_error">
<code class="descname">handle_nobreak_error</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#Converter.handle_nobreak_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.Converter.handle_nobreak_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Deals with identified misuses of the <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> keyword.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.converter.Converter.init_bookkeeping_vars">
<code class="descname">init_bookkeeping_vars</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#Converter.init_bookkeeping_vars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.Converter.init_bookkeeping_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises variables that are used for bookkeeping</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.converter.Converter.init_dialect_vars">
<code class="descname">init_dialect_vars</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#Converter.init_dialect_vars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.Converter.init_dialect_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises variables that are dependent on a given dialect.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.converter.Converter.preserve_repeat_spacing">
<code class="descname">preserve_repeat_spacing</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#Converter.preserve_repeat_spacing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.Converter.preserve_repeat_spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>We ensure spacing of original file is preserved,
including space between tokens.
When self.just_processed_repeat_kwd is True, it means we just saw
the repeat keyword which can simply be dropped;
we don’t need add the space between “repeat” and the next token.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.converter.Converter.process_after_repeat">
<code class="descname">process_after_repeat</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#Converter.process_after_repeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.Converter.process_after_repeat" title="Permalink to this definition">¶</a></dt>
<dd><p>After we see the <code class="docutils literal notranslate"><span class="pre">repeat</span></code> keyword, there are four possibilities:</p>
<ol class="arabic simple">
<li>the keyword <code class="docutils literal notranslate"><span class="pre">until</span></code> follows</li>
<li>the keyword <code class="docutils literal notranslate"><span class="pre">until</span></code> follows</li>
<li>the keyword <code class="docutils literal notranslate"><span class="pre">forever</span></code> follows</li>
<li>it is meant to be followed by some_expression which evaluates
to an integer.</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="avantpy.converter.Converter.process_nobreak">
<code class="descname">process_nobreak</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#Converter.process_nobreak"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.Converter.process_nobreak" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> keyword is allowed to replace <code class="docutils literal notranslate"><span class="pre">else</span></code> in
a <code class="docutils literal notranslate"><span class="pre">while</span></code> or <code class="docutils literal notranslate"><span class="pre">for</span></code> loop only.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.converter.Converter.process_repeat">
<code class="descname">process_repeat</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#Converter.process_repeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.Converter.process_repeat" title="Permalink to this definition">¶</a></dt>
<dd><p>This identifies if <code class="docutils literal notranslate"><span class="pre">repeat</span></code> begins a new line; if so, we
simply set up a flag to indicate that we just saw this keyword,
and otherwise drop it.</p>
<p>If it does not begin a new line, we raise an exception.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.converter.Converter.process_token">
<code class="descname">process_token</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#Converter.process_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.Converter.process_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what to do for each individual token.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="avantpy.converter.convert">
<code class="descclassname">avantpy.converter.</code><code class="descname">convert</code><span class="sig-paren">(</span><em>source</em>, <em>dialect=None</em>, <em>source_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Normally used from other functions to call for a conversion
of a Python source from a given dialect into Python.</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.converter.get_unique_variable_names">
<code class="descclassname">avantpy.converter.</code><code class="descname">get_unique_variable_names</code><span class="sig-paren">(</span><em>source</em>, <em>repeat_kwd</em>, <em>all_count_names=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#get_unique_variable_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.get_unique_variable_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of possible variables names that
are not found in the original source and have not been used
anywhere.
These variables will be used in expressions such as</p>
<blockquote>
<div>for _COUNT_42 in range(n):</div></blockquote>
<p>which will replace</p>
<blockquote>
<div>repeat n:</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="avantpy.converter.transcode">
<code class="descclassname">avantpy.converter.</code><code class="descname">transcode</code><span class="sig-paren">(</span><em>source</em>, <em>from_dialect</em>, <em>to_dialect</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#transcode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.transcode" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms a source (string) written in a known dialect into
an equivalent version written in a different dialect.
Spacing between tokens is preserved. This means that if a source
is transformed from dialect xx to dialect yy, and that the result
is transformed back to dialect xx, the original source should be
recovered.</p>
<p>Returns either the transformed source as a string, or None
if something prevented the transformation to be successful.</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.converter.transcode_file">
<code class="descclassname">avantpy.converter.</code><code class="descname">transcode_file</code><span class="sig-paren">(</span><em>from_path</em>, <em>to_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/converter.html#transcode_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.converter.transcode_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to be used from the command line.</p>
</dd></dl>

</div>
<div class="section" id="module-avantpy.exception_handling">
<span id="exception-handling"></span><h2>exception_handling<a class="headerlink" href="#module-avantpy.exception_handling" title="Permalink to this headline">¶</a></h2>
<p>The goal of exception_handling.py is to display information about
exceptions being raised in a way that is much easier to understand
for beginners than normal Python tracebacks.  These “friendly” tracebacks
are written so that they can easily be translated into any human language.</p>
<dl class="function">
<dt id="avantpy.exception_handling.disable">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">disable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#disable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.disable" title="Permalink to this definition">¶</a></dt>
<dd><p>Disables custom exception handling</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.get_partial_source">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">get_partial_source</code><span class="sig-paren">(</span><em>source</em>, <em>begin</em>, <em>end</em>, <em>marks=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#get_partial_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.get_partial_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts a few relevant lines from a source file.</p>
<p>If the number of lines would exceed a certain limit (currently 7)
the function is called recursively to only show the a few lines
at the beginning and at the end.</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.handle_IfNobreakError">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">handle_IfNobreakError</code><span class="sig-paren">(</span><em>exc</em>, <em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#handle_IfNobreakError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.handle_IfNobreakError" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles situation where <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> was wrongly use as a
replacement for <code class="docutils literal notranslate"><span class="pre">else</span></code> in an if/elif/else block.</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.handle_MismatchedBracketsError">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">handle_MismatchedBracketsError</code><span class="sig-paren">(</span><em>exc</em>, <em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#handle_MismatchedBracketsError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.handle_MismatchedBracketsError" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles situation where a bracket of one kind ‘([{‘
is closed with a bracket of a different kind.</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.handle_MissingLeftBracketError">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">handle_MissingLeftBracketError</code><span class="sig-paren">(</span><em>exc</em>, <em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#handle_MissingLeftBracketError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.handle_MissingLeftBracketError" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles situation where at bracket of one kind ),],}
is closed without a corresponding open bracket.</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.handle_MissingRepeatError">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">handle_MissingRepeatError</code><span class="sig-paren">(</span><em>exc</em>, <em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#handle_MissingRepeatError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.handle_MissingRepeatError" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles situation where either <code class="docutils literal notranslate"><span class="pre">until</span></code> or <code class="docutils literal notranslate"><span class="pre">forever</span></code> was
used without being preceeded by <code class="docutils literal notranslate"><span class="pre">repeat</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.handle_NameError">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">handle_NameError</code><span class="sig-paren">(</span><em>exc</em>, <em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#handle_NameError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.handle_NameError" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles situation where a NameError is raise.</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.handle_NobreakFirstError">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">handle_NobreakFirstError</code><span class="sig-paren">(</span><em>exc</em>, <em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#handle_NobreakFirstError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.handle_NobreakFirstError" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles situation where <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> was wrongly use as a
replacement for <code class="docutils literal notranslate"><span class="pre">else</span></code> in statements like
var = x if condition else y.</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.handle_NobreakSyntaxError">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">handle_NobreakSyntaxError</code><span class="sig-paren">(</span><em>exc</em>, <em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#handle_NobreakSyntaxError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.handle_NobreakSyntaxError" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles situation where <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> is used without a matching
<code class="docutils literal notranslate"><span class="pre">for</span></code> or <code class="docutils literal notranslate"><span class="pre">while</span></code> loop and not already raised.</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.handle_RepeatFirstError">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">handle_RepeatFirstError</code><span class="sig-paren">(</span><em>exc</em>, <em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#handle_RepeatFirstError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.handle_RepeatFirstError" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles situation where <code class="docutils literal notranslate"><span class="pre">repeat</span></code> was uses wrongly as
it did not appear as the first keyword of a given statement.</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.handle_TryNobreakError">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">handle_TryNobreakError</code><span class="sig-paren">(</span><em>exc</em>, <em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#handle_TryNobreakError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.handle_TryNobreakError" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles situation where <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> was wrongly use as a
replacement for <code class="docutils literal notranslate"><span class="pre">else</span></code> in an try/except/else/finally block.</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.handle_UnknownDialectError">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">handle_UnknownDialectError</code><span class="sig-paren">(</span><em>exc</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#handle_UnknownDialectError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.handle_UnknownDialectError" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles error raised when an unknown dialect is requested</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.handle_UnknownLanguageError">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">handle_UnknownLanguageError</code><span class="sig-paren">(</span><em>exc</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#handle_UnknownLanguageError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.handle_UnknownLanguageError" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles error raised when an unknown language is requested</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.handle_exception">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">handle_exception</code><span class="sig-paren">(</span><em>exc</em>, <em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#handle_exception"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.handle_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic function to handle exceptions and returns a
friendlier traceback than Python.</p>
<p>If the exception is not recognized as one for which a friendlier
traceback can be provided, None is returned</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.write_err">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">write_err</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#write_err"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.write_err" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a string to sys.stderr.</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.exception_handling.write_exception_info">
<code class="descclassname">avantpy.exception_handling.</code><code class="descname">write_exception_info</code><span class="sig-paren">(</span><em>exc</em>, <em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exception_handling.html#write_exception_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exception_handling.write_exception_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the information we have after processing the exception.</p>
</dd></dl>

</div>
<div class="section" id="module-avantpy.exceptions">
<span id="exceptions"></span><h2>exceptions<a class="headerlink" href="#module-avantpy.exceptions" title="Permalink to this headline">¶</a></h2>
<p>Custom exceptions</p>
<dl class="exception">
<dt id="avantpy.exceptions.AvantPyException">
<em class="property">exception </em><code class="descclassname">avantpy.exceptions.</code><code class="descname">AvantPyException</code><span class="sig-paren">(</span><em>msg</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exceptions.html#AvantPyException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exceptions.AvantPyException" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for custom exceptions.</p>
</dd></dl>

<dl class="exception">
<dt id="avantpy.exceptions.IfNobreakError">
<em class="property">exception </em><code class="descclassname">avantpy.exceptions.</code><code class="descname">IfNobreakError</code><span class="sig-paren">(</span><em>msg</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exceptions.html#IfNobreakError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exceptions.IfNobreakError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> is used instead of <code class="docutils literal notranslate"><span class="pre">else</span></code> in an <code class="docutils literal notranslate"><span class="pre">if</span></code> statement</p>
</dd></dl>

<dl class="exception">
<dt id="avantpy.exceptions.MismatchedBracketsError">
<em class="property">exception </em><code class="descclassname">avantpy.exceptions.</code><code class="descname">MismatchedBracketsError</code><span class="sig-paren">(</span><em>msg</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exceptions.html#MismatchedBracketsError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exceptions.MismatchedBracketsError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if a left parenthesis ‘(‘, or square bracket ‘[‘
or curly bracket ‘{‘, is closed by a right ‘bracket’ of a different type.</p>
<p>In standard Python, this would be indicated as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">SyntaxError</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">syntax</span>
</pre></div>
</div>
</dd></dl>

<dl class="exception">
<dt id="avantpy.exceptions.MissingLeftBracketError">
<em class="property">exception </em><code class="descclassname">avantpy.exceptions.</code><code class="descname">MissingLeftBracketError</code><span class="sig-paren">(</span><em>msg</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exceptions.html#MissingLeftBracketError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exceptions.MissingLeftBracketError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if a right parenthesis ‘)’, or square bracket ‘]’
or curly bracket ‘}’, is found without having a matching left bracket
found previously.</p>
<p>In standard Python, this would be indicated as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">SyntaxError</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">syntax</span>
</pre></div>
</div>
</dd></dl>

<dl class="exception">
<dt id="avantpy.exceptions.MissingRepeatError">
<em class="property">exception </em><code class="descclassname">avantpy.exceptions.</code><code class="descname">MissingRepeatError</code><span class="sig-paren">(</span><em>msg</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exceptions.html#MissingRepeatError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exceptions.MissingRepeatError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if <code class="docutils literal notranslate"><span class="pre">until</span></code> or <code class="docutils literal notranslate"><span class="pre">forever</span></code> is used without being preceeded by
<code class="docutils literal notranslate"><span class="pre">repeat</span></code>.</p>
</dd></dl>

<dl class="exception">
<dt id="avantpy.exceptions.MissingRightBracketError">
<em class="property">exception </em><code class="descclassname">avantpy.exceptions.</code><code class="descname">MissingRightBracketError</code><span class="sig-paren">(</span><em>msg</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exceptions.html#MissingRightBracketError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exceptions.MissingRightBracketError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if a left parenthesis ‘(‘, or square bracket ‘[‘
or curly bracket ‘{‘, is never closed by a corresponding bracket.</p>
<p>In standard Python, this would be indicated as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">SyntaxError</span><span class="p">:</span> <span class="n">unexpected</span> <span class="n">EOF</span> <span class="k">while</span> <span class="n">parsing</span>
</pre></div>
</div>
</dd></dl>

<dl class="exception">
<dt id="avantpy.exceptions.NobreakFirstError">
<em class="property">exception </em><code class="descclassname">avantpy.exceptions.</code><code class="descname">NobreakFirstError</code><span class="sig-paren">(</span><em>msg</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exceptions.html#NobreakFirstError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exceptions.NobreakFirstError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> is used somewhere other than at the beginning of a line.</p>
</dd></dl>

<dl class="exception">
<dt id="avantpy.exceptions.NobreakSyntaxError">
<em class="property">exception </em><code class="descclassname">avantpy.exceptions.</code><code class="descname">NobreakSyntaxError</code><span class="sig-paren">(</span><em>msg</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exceptions.html#NobreakSyntaxError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exceptions.NobreakSyntaxError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> is without a matching block.</p>
</dd></dl>

<dl class="exception">
<dt id="avantpy.exceptions.RepeatFirstError">
<em class="property">exception </em><code class="descclassname">avantpy.exceptions.</code><code class="descname">RepeatFirstError</code><span class="sig-paren">(</span><em>msg</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exceptions.html#RepeatFirstError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exceptions.RepeatFirstError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if <code class="docutils literal notranslate"><span class="pre">repeat</span></code> is used somewhere other than at the beginning of a line.</p>
</dd></dl>

<dl class="exception">
<dt id="avantpy.exceptions.TryNobreakError">
<em class="property">exception </em><code class="descclassname">avantpy.exceptions.</code><code class="descname">TryNobreakError</code><span class="sig-paren">(</span><em>msg</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exceptions.html#TryNobreakError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exceptions.TryNobreakError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if <code class="docutils literal notranslate"><span class="pre">nobreak</span></code> is used instead of <code class="docutils literal notranslate"><span class="pre">else</span></code> in <code class="docutils literal notranslate"><span class="pre">try/except</span></code> statement</p>
</dd></dl>

<dl class="exception">
<dt id="avantpy.exceptions.UnexpectedError">
<em class="property">exception </em><code class="descclassname">avantpy.exceptions.</code><code class="descname">UnexpectedError</code><span class="sig-paren">(</span><em>msg</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exceptions.html#UnexpectedError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exceptions.UnexpectedError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when some unexpected condition occurs which should
be cavered by a specific excption.</p>
</dd></dl>

<dl class="exception">
<dt id="avantpy.exceptions.UnknownDialectError">
<em class="property">exception </em><code class="descclassname">avantpy.exceptions.</code><code class="descname">UnknownDialectError</code><span class="sig-paren">(</span><em>msg</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exceptions.html#UnknownDialectError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exceptions.UnknownDialectError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when attempting to set <code class="docutils literal notranslate"><span class="pre">dialect</span></code> to unsupported value.</p>
</dd></dl>

<dl class="exception">
<dt id="avantpy.exceptions.UnknownLanguageError">
<em class="property">exception </em><code class="descclassname">avantpy.exceptions.</code><code class="descname">UnknownLanguageError</code><span class="sig-paren">(</span><em>msg</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/exceptions.html#UnknownLanguageError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.exceptions.UnknownLanguageError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when attempting to set <code class="docutils literal notranslate"><span class="pre">lang</span></code> to unsupported value.</p>
</dd></dl>

</div>
<div class="section" id="module-avantpy.gui">
<span id="gui"></span><h2>gui<a class="headerlink" href="#module-avantpy.gui" title="Permalink to this headline">¶</a></h2>
<p>This module provides a GUI to the conversion function.</p>
<p>It makes it possible to load up a source file written in a given dialect
and convert it into another dialect or into Python, showing both the
original source and the converted one in two different editor frames,
with Python keyword, as well as their counterpart in various dialects,
highlighted.</p>
<dl class="class">
<dt id="avantpy.gui.App">
<em class="property">class </em><code class="descclassname">avantpy.gui.</code><code class="descname">App</code><span class="sig-paren">(</span><em>title='Converter'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/gui.html#App"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.gui.App" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="avantpy.gui.App.add_ui">
<code class="descname">add_ui</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/gui.html#App.add_ui"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.gui.App.add_ui" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds UI elements to the main window</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.gui.App.close_converted_window">
<code class="descname">close_converted_window</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/gui.html#App.close_converted_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.gui.App.close_converted_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the converted window.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.gui.App.close_source_window">
<code class="descname">close_source_window</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/gui.html#App.close_source_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.gui.App.close_source_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the source window</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.gui.App.convert_source">
<code class="descname">convert_source</code><span class="sig-paren">(</span><em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/gui.html#App.convert_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.gui.App.convert_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the content of the source window into the requested dialect.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.gui.App.get_conversion_dialect">
<code class="descname">get_conversion_dialect</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/gui.html#App.get_conversion_dialect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.gui.App.get_conversion_dialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the conversion dialect selected from the ComboBox.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.gui.App.get_source">
<code class="descname">get_source</code><span class="sig-paren">(</span><em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/gui.html#App.get_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.gui.App.get_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a file by looking first from the current directory.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="avantpy.gui.TextEditor">
<em class="property">class </em><code class="descclassname">avantpy.gui.</code><code class="descname">TextEditor</code><span class="sig-paren">(</span><em>parent</em>, <em>title='Window title'</em>, <em>app=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/gui.html#TextEditor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.gui.TextEditor" title="Permalink to this definition">¶</a></dt>
<dd><p>A scrollable text editor, that can save files.</p>
<dl class="method">
<dt id="avantpy.gui.TextEditor.colorize">
<code class="descname">colorize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/gui.html#TextEditor.colorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.gui.TextEditor.colorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Colorizes the Python keywords and a few builtins, as well as the
corresponding version in other dialects.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.gui.TextEditor.get_text">
<code class="descname">get_text</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/gui.html#TextEditor.get_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.gui.TextEditor.get_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the current content and returns it as a string</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.gui.TextEditor.insert_text">
<code class="descname">insert_text</code><span class="sig-paren">(</span><em>txt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/gui.html#TextEditor.insert_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.gui.TextEditor.insert_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts the text in the editor, replacing any previously existing
content.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.gui.TextEditor.make_menu">
<code class="descname">make_menu</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/gui.html#TextEditor.make_menu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.gui.TextEditor.make_menu" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes the main menu</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.gui.TextEditor.save_file">
<code class="descname">save_file</code><span class="sig-paren">(</span><em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/gui.html#TextEditor.save_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.gui.TextEditor.save_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the file currently in the Texteditor</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-avantpy.import_hook">
<span id="import-hook"></span><h2>import_hook<a class="headerlink" href="#module-avantpy.import_hook" title="Permalink to this headline">¶</a></h2>
<p>A custom importer making use of the import hook capability</p>
<dl class="class">
<dt id="avantpy.import_hook.AvantPyLoader">
<em class="property">class </em><code class="descclassname">avantpy.import_hook.</code><code class="descname">AvantPyLoader</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/import_hook.html#AvantPyLoader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.import_hook.AvantPyLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>A custom loader which will transform the source prior to its execution</p>
<dl class="method">
<dt id="avantpy.import_hook.AvantPyLoader.exec_module">
<code class="descname">exec_module</code><span class="sig-paren">(</span><em>module</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/import_hook.html#AvantPyLoader.exec_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.import_hook.AvantPyLoader.exec_module" title="Permalink to this definition">¶</a></dt>
<dd><p>import the source code, converts it before executing it.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="avantpy.import_hook.AvantPyMetaFinder">
<em class="property">class </em><code class="descclassname">avantpy.import_hook.</code><code class="descname">AvantPyMetaFinder</code><a class="reference internal" href="_modules/avantpy/import_hook.html#AvantPyMetaFinder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.import_hook.AvantPyMetaFinder" title="Permalink to this definition">¶</a></dt>
<dd><p>A custom finder to locate modules.  The main reason for this code
is to ensure that our custom loader, which does the code transformations,
is used.</p>
<dl class="method">
<dt id="avantpy.import_hook.AvantPyMetaFinder.find_spec">
<code class="descname">find_spec</code><span class="sig-paren">(</span><em>fullname</em>, <em>path</em>, <em>target=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/import_hook.html#AvantPyMetaFinder.find_spec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.import_hook.AvantPyMetaFinder.find_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the appropriate properties (spec) of a module, and sets
its loader.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="avantpy.import_hook.import_main">
<code class="descclassname">avantpy.import_hook.</code><code class="descname">import_main</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/import_hook.html#import_main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.import_hook.import_main" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports the module that is to be interpreted as the main module.</p>
<p>avantpy is often invoked with a script meant to be run as the
main module its source is transformed with the -s (or –source) option,
as in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">avantpy</span> <span class="o">-</span><span class="n">s</span> <span class="n">name</span>
</pre></div>
</div>
<p>Python identifies avantpy as the main script, which is not what we want.</p>
</dd></dl>

</div>
<div class="section" id="module-avantpy.translate">
<span id="translate"></span><h2>translate<a class="headerlink" href="#module-avantpy.translate" title="Permalink to this headline">¶</a></h2>
<p>Provide mechanism to get translations of messages</p>
<dl class="function">
<dt id="avantpy.translate.get">
<code class="descclassname">avantpy.translate.</code><code class="descname">get</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/translate.html#get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.translate.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the translation of msg given lang</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="contribute.html" title="Contributing"
             >next</a> |</li>
        <li class="right" >
          <a href="testing.html" title="Testing"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">AvantPy 0.0.7 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, André Roberge.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>