
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Other modules &#8212; AvantPy  documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Invocation" href="invocation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="invocation.html" title="Invocation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">AvantPy  documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Other modules</a><ul>
<li><a class="reference internal" href="#module-avantpy.import_hook">import_hook</a></li>
<li><a class="reference internal" href="#module-avantpy.conversion">conversion</a></li>
<li><a class="reference internal" href="#module-avantpy.console">console</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="invocation.html"
                        title="previous chapter">Invocation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/modules.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="other-modules">
<h1>Other modules<a class="headerlink" href="#other-modules" title="Permalink to this headline">¶</a></h1>
<p>In addition to <cite>invocation.py</cite> already mentioned, and excluding modules defining individual
dialects, the following are included:</p>
<div class="section" id="module-avantpy.import_hook">
<span id="import-hook"></span><h2>import_hook<a class="headerlink" href="#module-avantpy.import_hook" title="Permalink to this headline">¶</a></h2>
<p>A custom importer making use of the import hook capability</p>
<dl class="class">
<dt id="avantpy.import_hook.AvantPyLoader">
<em class="property">class </em><code class="descclassname">avantpy.import_hook.</code><code class="descname">AvantPyLoader</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/import_hook.html#AvantPyLoader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.import_hook.AvantPyLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>A custom loader which will transform the source prior to its execution</p>
<dl class="method">
<dt id="avantpy.import_hook.AvantPyLoader.exec_module">
<code class="descname">exec_module</code><span class="sig-paren">(</span><em>module</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/import_hook.html#AvantPyLoader.exec_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.import_hook.AvantPyLoader.exec_module" title="Permalink to this definition">¶</a></dt>
<dd><p>import the source code, conversion it before executing it.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.import_hook.AvantPyLoader.write_html_diff">
<code class="descname">write_html_diff</code><span class="sig-paren">(</span><em>name</em>, <em>original</em>, <em>transformed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/import_hook.html#AvantPyLoader.write_html_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.import_hook.AvantPyLoader.write_html_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes an html file showing the difference between the original
and the transformed source.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="avantpy.import_hook.AvantPyMetaFinder">
<em class="property">class </em><code class="descclassname">avantpy.import_hook.</code><code class="descname">AvantPyMetaFinder</code><a class="reference internal" href="_modules/avantpy/import_hook.html#AvantPyMetaFinder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.import_hook.AvantPyMetaFinder" title="Permalink to this definition">¶</a></dt>
<dd><p>A custom finder to locate modules.  The main reason for this code
is to ensure that our custom loader, which does the code transformations,
is used.</p>
<dl class="method">
<dt id="avantpy.import_hook.AvantPyMetaFinder.find_spec">
<code class="descname">find_spec</code><span class="sig-paren">(</span><em>fullname</em>, <em>path</em>, <em>target=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/import_hook.html#AvantPyMetaFinder.find_spec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.import_hook.AvantPyMetaFinder.find_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the appropriate properties (spec) of a module, and sets
its loader.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="avantpy.import_hook.import_main">
<code class="descclassname">avantpy.import_hook.</code><code class="descname">import_main</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/import_hook.html#import_main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.import_hook.import_main" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports the module that is to be interpreted as the main module.</p>
<p>avantpy is often invoked with a script meant to be run as the
main module its source is transformed with the -s (or –source) option,
as in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">avantpy</span> <span class="o">-</span><span class="n">s</span> <span class="n">name</span>
</pre></div>
</div>
<p>Python identifies avantpy as the main script; we artificially
change this so that “main_script” is properly identified as <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="module-avantpy.conversion">
<span id="conversion"></span><h2>conversion<a class="headerlink" href="#module-avantpy.conversion" title="Permalink to this headline">¶</a></h2>
<p>conversion.py</p>
<p>Keeps track of available dialects, and perform require code transformations.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This module is currently very poorly documented.
Many global variables are currently accessed directly by other modules;
this needs to be corrected.</p>
</div>
<dl class="function">
<dt id="avantpy.conversion.get_unique_variable_names">
<code class="descclassname">avantpy.conversion.</code><code class="descname">get_unique_variable_names</code><span class="sig-paren">(</span><em>source</em>, <em>nb</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/conversion.html#get_unique_variable_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.conversion.get_unique_variable_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of possible variables names that
are not found in the original source and have not been used
during the current session.</p>
<p>This is used in replacing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">repeat</span> <span class="n">n</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>by something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">_COUNT_42</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="avantpy.conversion.init_dialects">
<code class="descclassname">avantpy.conversion.</code><code class="descname">init_dialects</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/conversion.html#init_dialects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.conversion.init_dialects" title="Permalink to this definition">¶</a></dt>
<dd><p>Find known dialects and create corresponding dictionaries</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.conversion.set_debug">
<code class="descclassname">avantpy.conversion.</code><code class="descname">set_debug</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/conversion.html#set_debug"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.conversion.set_debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to set DEBUG to either True or False</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.conversion.set_lang">
<code class="descclassname">avantpy.conversion.</code><code class="descname">set_lang</code><span class="sig-paren">(</span><em>lang</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/conversion.html#set_lang"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.conversion.set_lang" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the language (Python dialect) to be used in the console.</p>
<p>Valid values typically are two-letter language code such as ‘en’ or ‘fr’.</p>
</dd></dl>

<dl class="function">
<dt id="avantpy.conversion.to_python">
<code class="descclassname">avantpy.conversion.</code><code class="descname">to_python</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/conversion.html#to_python"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.conversion.to_python" title="Permalink to this definition">¶</a></dt>
<dd><p>A conversion with a one-to-one translation of keywords is used
to provide the transformation.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This has yet to be documented properly.</p>
</div>
</dd></dl>

</div>
<div class="section" id="module-avantpy.console">
<span id="console"></span><h2>console<a class="headerlink" href="#module-avantpy.console" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="avantpy.console.AvantPyInteractiveConsole">
<em class="property">class </em><code class="descclassname">avantpy.console.</code><code class="descname">AvantPyInteractiveConsole</code><span class="sig-paren">(</span><em>locals=None</em>, <em>show_python=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#AvantPyInteractiveConsole"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.AvantPyInteractiveConsole" title="Permalink to this definition">¶</a></dt>
<dd><p>A Python console that tries to emulate the normal Python interpreter
except that it support experimental code transformations.
It inherits from cPython’s <code class="docutils literal notranslate"><span class="pre">code.InteractiveConsole</span></code>.</p>
<p>Like the normal Python’s interactive console, it attempts to evaluate
code entered one line at a time by a user.</p>
<dl class="method">
<dt id="avantpy.console.AvantPyInteractiveConsole.do_transformations">
<code class="descname">do_transformations</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#AvantPyInteractiveConsole.do_transformations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.AvantPyInteractiveConsole.do_transformations" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the source transformations on the current content.</p>
<p>Returns the transformed source.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.console.AvantPyInteractiveConsole.fix_ending">
<code class="descname">fix_ending</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#AvantPyInteractiveConsole.fix_ending"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.AvantPyInteractiveConsole.fix_ending" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensures that the last blank lines of the transformed source are
consistent with what was provided by the user.</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.console.AvantPyInteractiveConsole.push">
<code class="descname">push</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#AvantPyInteractiveConsole.push"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.AvantPyInteractiveConsole.push" title="Permalink to this definition">¶</a></dt>
<dd><p>Pushes a transformed line to the interpreter.</p>
<p>The line should not have a trailing newline; it may have
internal newlines.  The line is transformed and appended to a buffer.
The interpreter’s runsource() method is called with the
concatenated contents of the buffer as source.  If this
indicates that the command was executed or invalid, the buffer
is reset; otherwise, the command is incomplete, and the buffer
is left as it was after the line was appended.  The return
value is 1 if more input is required, 0 if the line was dealt
with in some way (this is the same as runsource()).</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.console.AvantPyInteractiveConsole.show_converted">
<code class="descname">show_converted</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#AvantPyInteractiveConsole.show_converted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.AvantPyInteractiveConsole.show_converted" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the converted source</p>
</dd></dl>

<dl class="method">
<dt id="avantpy.console.AvantPyInteractiveConsole.showsyntaxerror">
<code class="descname">showsyntaxerror</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#AvantPyInteractiveConsole.showsyntaxerror"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.AvantPyInteractiveConsole.showsyntaxerror" title="Permalink to this definition">¶</a></dt>
<dd><p>Shows the converted source if different than the original
and the syntax error</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="avantpy.console.start_console">
<code class="descclassname">avantpy.console.</code><code class="descname">start_console</code><span class="sig-paren">(</span><em>local_vars=None</em>, <em>show_python=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/avantpy/console.html#start_console"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avantpy.console.start_console" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts a console; modified from code.interact</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="invocation.html" title="Invocation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">AvantPy  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, André Roberge.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>